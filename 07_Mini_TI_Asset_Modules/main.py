'''ЁЯЪА Project 7: р╕Ьр╣Ир╕▓р╕Хр╕▒р╕Фр╣Бр╕вр╕Бр╣Др╕Яр╕ер╣М (Refactoring to Modules)
р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в: р╣Ар╕гр╕▓р╕Ир╕░р╣Др╕бр╣Ир╣Ар╕Вр╕╡р╕вр╕Щ Logic р╣Гр╕лр╕бр╣И р╣Бр╕Хр╣Ир╣Ар╕гр╕▓р╕Ир╕░ "р╕вр╣Йр╕▓р╕вр╕Ър╣Йр╕▓р╕Щ" р╣Гр╕лр╣Йр╣Вр╕Др╣Йр╕Ф
р╣Др╕Яр╕ер╣М 1 asset_lib.py: р╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕лр╕бр╕╖р╕нр╕Щ "р╕лр╣Йр╕нр╕Зр╕Др╕гр╕▒р╕з" (р╣Ар╕Бр╣Зр╕Ър╕кр╕╣р╕Хр╕гр╕нр╕▓р╕лр╕▓р╕г, р╕зр╕▒р╕Хр╕Цр╕╕р╕Фр╕┤р╕Ъ, р╕зр╕┤р╕Шр╕╡р╕Ыр╕гр╕╕р╕З)
р╣Др╕Яр╕ер╣М 2 main.py: р╣Ар╕Ыр╕гр╕╡р╕вр╕Ър╣Ар╕лр╕бр╕╖р╕нр╕Щ "р╕лр╕Щр╣Йр╕▓р╕гр╣Йр╕▓р╕Щ" (р╕гр╕▒р╕Ър╕нр╕нр╣Ар╕Фр╕нр╕гр╣М, р╣Ар╕кр╕┤р╕гр╣Мр╕Яр╕нр╕▓р╕лр╕▓р╕г)'''

import asset_lib as lib # <-- import file р╕Чр╕╡р╣Ир╣Ар╕гр╕▓р╕вр╣Йр╕▓р╕в function р╣Др╕Ыр╣Др╕зр╣Й


def main():
    while True:
        # р╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б lib
        my_assets = lib.load_assets()

        print('\n=== ЁЯТ╗ р╕гр╕░р╕Ър╕Ър╕Чр╕░р╣Ар╕Ър╕╡р╕вр╕Щр╕Др╕╕р╕бр╕Чр╕гр╕▒р╕Юр╕вр╣Мр╕кр╕┤р╕Щ IT (IT Asset) ===')
        print(f'р╕Ир╕│р╕Щр╕зр╕Щр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф: {len(my_assets)} р╕гр╕▓р╕вр╕Бр╕▓р╕г')
        print('[S] р╣Бр╕кр╕Фр╕Зр╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф')
        print('[A] р╣Ар╕Юр╕┤р╣Ир╕бр╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Гр╕лр╕бр╣И')
        print('[U] р╕нр╕▒р╕Юр╣Ар╕Фр╕Чр╕кр╕Цр╕▓р╕Щр╕░ (р╕кр╣Ир╕Зр╕Лр╣Ир╕нр╕б/р╕Др╕╖р╕Щ)')
        print('[D] р╕ер╕Ър╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Чр╕гр╕▒р╕Юр╕вр╣Мр╕кр╕┤р╕Щ')
        print('[Q] р╕нр╕нр╕Бр╕Ир╕▓р╕Бр╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕б')

        choice = input('р╣Ар╕ер╕╖р╕нр╕Бр╕Др╕│р╕кр╕▒р╣Ир╕З: ').upper().strip()

        if choice == 'S':
            lib.show_all_assets(my_assets)
        elif choice == 'A':
            lib.add_asset(my_assets)
        elif choice == 'U':
            lib.update_status(my_assets)
        elif choice == "D":
            lib.delete_asset(my_assets)
        elif choice == 'Q':
            print('р╕Ыр╕┤р╕Фр╕гр╕░р╕Ър╕Ъ... р╕Ър╣Кр╕▓р╕в р╕Ър╕▓р╕в ЁЯЩП')
            break
        else:
            print('р╕Др╕│р╕кр╕▒р╣Ир╕Зр╣Др╕бр╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕Зр╕Др╕гр╕▒р╕Ъ')

if __name__ == '__main__':
    main()
        